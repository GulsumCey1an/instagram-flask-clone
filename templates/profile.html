<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>{{ username }}</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar">
    <div class="navbar-content">
        <a href="/" class="navbar-logo">←</a>
        <span>{{ username }}</span>

        <div class="navbar-icons">
            <a href="/dm" class="navbar-icon">✉️</a>
        </div>
    </div>
</nav>

<div class="container">
<div class="main-content">

    <!-- ================= PROFILE HEADER ================= -->
    <div class="post" style="padding:24px;">
        <div style="display:flex; gap:24px; align-items:center;">

            <!-- PROFILE PHOTO -->
            <img
                src="{{ profile_photo or 'https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=200' }}"
                style="width:96px; height:96px; border-radius:50%; object-fit:cover;"
            >

            <!-- PROFILE INFO -->
            <div>
                <h2 style="margin-bottom:8px;">{{ username }}</h2>

                <!-- COUNTS -->
                <div style="display:flex; gap:16px; margin-bottom:8px; font-size:14px;">
                    <span>
                        <b>{{ post_count }}</b> gönderi
                    </span>

                    <a href="/followers" style="color:white; text-decoration:underline;">
                        <b>{{ followers_count }}</b> takipçi
                    </a>

                    <a href="/following" style="color:white; text-decoration:underline;">
                        <b>{{ following_count }}</b> takip
                    </a>
                </div>

                <!-- BIO -->
                <div>
                    <b>{{ full_name }}</b><br>
                    <span style="color:#aaa">{{ biography }}</span>
                </div>
            </div>

        </div>
    </div>

    <!-- ================= ADD POST FORM ================= -->
    <div class="post" style="padding:24px; margin-top:24px;">
        <form action="/add_post" method="post">

            <input
                type="text"
                name="media_url"
                placeholder="Görsel URL (zorunlu)"
                required
                style="width:100%; padding:10px; margin-bottom:12px;"
            >

            <input
                type="text"
                name="caption"
                placeholder="Açıklama (opsiyonel)"
                style="width:100%; padding:10px; margin-bottom:12px;"
            >

            <button
                type="submit"
                style="
                    width:100%;
                    padding:10px;
                    background:#0095f6;
                    color:white;
                    border:none;
                    border-radius:6px;
                    cursor:pointer;
                "
            >
                Gönderi Ekle
            </button>

        </form>
    </div>

    <!-- ================= POSTS GRID ================= -->
    <div style="
        margin-top:24px;
        display:grid;
        grid-template-columns: repeat(3, 1fr);
        gap:8px;
    ">
        {% for p in user_posts %}
            <div style="width:100%; aspect-ratio:1/1; overflow:hidden;">
                <img
                    src="{{ p.media_url }}"
                    onerror="this.onerror=null; this.src='https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?w=900';"
                    style="width:100%; height:100%; object-fit:cover;"
                >
            </div>
        {% endfor %}
    </div>

</div>
</div>

</body>
</html>
